<!DOCTYPE HTML>
<html>
<head>
    <title>Flask-SocketIO Test</title>
    Welcome {{username}}!
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>
</head>
    
    <body>
        <script>
            $(document).ready(function() {
                var socket = io.connect("localhost:5000")
                socket.on('connect', function() {
                    console.log(' :has connected')
                });
                socket.on('message', function(msg) {
                    $("#messages").append("<li>" + msg + "</li>");
                    console.log(msg);
                });
                
                $("#send_button").on('click', function() {
                    socket.send($("#my_message").val());
                    socket.send($("#my_message").val(''));
                });
                
                
            });
            
            
        </script>
        <ul id = "messages"> 
        </ul>
        <input id = "my_message" type="text" />
        <button id = "send_button">Send</button>
    </body>
</html>
